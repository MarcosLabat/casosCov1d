const select=document.querySelector("#paises"),btnInput=document.querySelector("#btn"),contenedorInfo=document.querySelector(".contenedor"),hijosInfo=document.querySelectorAll(".info");document.addEventListener("DOMContentLoaded",()=>{mostrarDatos(),leerInput(),llenarSelect()});const pais={region:""},leerInput=()=>{select.addEventListener("change",e=>{pais.region=e.target.value,mostrarDatos(),limpiarHtml()})},mostrarDatos=async()=>{try{const e=await fetch("https://api.covid19api.com/summary"),o=await e.json(),t=await o.Countries;llenarSelect(t),mostrarContenido(t)}catch(e){console.log(e)}},llenarSelect=e=>{const o=document.createDocumentFragment();if(e)for(const t of e){const e=document.createElement("OPTION");e.value=t.Country,e.textContent=t.Country,o.appendChild(e)}select.appendChild(o)},mostrarContenido=e=>{const o=e.find(e=>{const{region:o}=pais;return o?e.Country.toLowerCase()===o.toLowerCase():pais}),t=document.createElement("P");t.textContent=o.Country,t.classList.add("borrar");const n=document.createElement("P");n.textContent=o.TotalConfirmed.toLocaleString("en-US"),n.classList.add("borrar");const a=document.createElement("P");a.textContent=o.TotalDeaths.toLocaleString("en-US"),a.classList.add("borrar");const r=document.createElement("P");r.textContent=o.TotalRecovered.toLocaleString("en-US"),r.classList.add("borrar"),hijosInfo[0].appendChild(t),hijosInfo[1].appendChild(n),hijosInfo[2].appendChild(a),hijosInfo[3].appendChild(r),contenedorInfo.appendChild(hijosInfo[0]),contenedorInfo.appendChild(hijosInfo[1]),contenedorInfo.appendChild(hijosInfo[2]),contenedorInfo.appendChild(hijosInfo[3])},limpiarHtml=()=>{const e=document.querySelectorAll(".borrar");for(const o of e)o.remove()};mapboxgl.accessToken="pk.eyJ1IjoibWFyY29zbGFiYXQiLCJhIjoiY2txc2FxbW1kMXhscTJucXE2NTM4c2szMCJ9.j6Df4-XKHxM15g7wkSVG1A",document.addEventListener("DOMContentLoaded",()=>{mostrarMapa()});let map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-3,40],zoom:3});const mostrarDatosMapa=async()=>{try{const e=await fetch("https://master-covid-19-api-laeyoung.endpoint.ainize.ai/jhu-edu/latest"),o=await e.json();return console.log(o),o}catch(e){console.log(e)}},mostrarMapa=async()=>{(await mostrarDatosMapa()).forEach(e=>{let o=new mapboxgl.Popup({offset:25}).setText(infomarker(e));e.confirmed>0&&new mapboxgl.Marker({color:"#e50914",draggable:!1}).setLngLat([e.location.lng,e.location.lat]).setPopup(o).addTo(map)})},infomarker=e=>{console.log(e);const{confirmed:o,deaths:t,recovered:n,countryregion:a}=e;return n?`\n        Pa√≠s: ${a}\n        Confirmados: ${o.toLocaleString("es-ES")}   \n        Muertes: ${t.toLocaleString("es-ES")}\n        Recuperados ${n.toLocaleString("es-ES")}`:`\n            Confirmados: ${o.toLocaleString("es-ES")}   \n            Muertes: ${t.toLocaleString("es-ES")}\n            Recuperados: Datos no encontrados\n        `};
//# sourceMappingURL=bundle.js.map
